<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets">
    <h:head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
         <h:outputStylesheet name="./css/default.css"/>
        <h:outputStylesheet name="./css/cssLayout.css"/>
        <h:outputScript library="js" name="spanishLocale.js"/>
    </h:head>

    <h:form id="frmImagen" style="border-style: hidden; width: 95%" enctype="multipart/form-data">
        <p:outputPanel style="padding-bottom: 1px; padding-top: 1px; padding-left:10px; padding-right: 10px;">
            <table>
                <tr valign="middle">
                    <td><p:graphicImage library="images" name="flechaTituloAzul.png" width="24" height="24"></p:graphicImage></td>
                    <td><p:outputLabel value="Agregar imagen" styleClass="tituloPrincipalFuente"></p:outputLabel></td>
                </tr>
            </table>                    
            <p:separator id="sepTitulo" style="border: 1px #045491 inset;"></p:separator>                    
        </p:outputPanel>
        <div align="center">
            <p:growl id="msg" life="10000"/>
            <p:panelGrid columns="1" id="panelGridImagen" styleClass="quitarBordes">

                <p:panelGrid id="pnlGridImagen1" styleClass="quitarBordes">
                    <p:row >
                        <p:column style="text-align: center" >
                            <p:graphicImage id="itemImagen" value="/temp/#{agregarSignoImagenBean.nombreImage}" 
                                            width="100%" height="100%" 
                                            cache="false"                                                                                                            
                                            >                             
                            </p:graphicImage>  
                        </p:column>
                    </p:row>

                </p:panelGrid>


                <p:panelGrid style="vertical-align: top" > 
                    <p:row>
                        <p:column colspan="3">
                            <p:panelGrid columns="3">

                                <h:outputLabel value="Agregar imagen: "/>
                                <p:fileUpload  label="Examinar" 
                                               value="Examinar" 
                                               mode="advanced"
                                               skinSimple="true"
                                               multiple="false"
                                               fileUploadListener="#{agregarSignoImagenBean.accionCargarImagenProyecto}"
                                               update="itemImagen,btndescarga,btnaceptar"
                                               cancelLabel="Cancelar"
                                               uploadLabel="Cargar Imagen"
                                               
                                               />
                                
 

                            </p:panelGrid>

                        </p:column>
                    </p:row>                               
                    <p:row>
                        <p:column style="width: 33%; text-align: center" >
                            <p:commandButton value="Aceptar"  icon="ui-icon-circle-check" 
                                             disabled="#{!agregarSignoImagenBean.muestraDescarga}"
                                             id="btnaceptar">
                                <p:ajax listener="#{agregarSignoImagenBean.guardaMemoria}" />
                            </p:commandButton>
                        </p:column>
                        <p:column style="width: 33%; text-align: center" >
                            <p:commandButton value="Cancelar"  icon="ui-icon-circle-close" >
                                <p:ajax listener="#{agregarSignoImagenBean.cerrarDialogoClaseNiza()}" />
                            </p:commandButton>
                        </p:column>
                        <p:column style="width: 34%; text-align: center" >
                                <p:commandButton icon="ui-icon-circle-arrow-s"
                                                 id="btndescarga"
                                                 actionListener="#{agregarSignoImagenBean.bajaArchivo()}"
                                                 ajax="false"
                                                 value="Descargar"
                                                 disabled="#{agregarSignoImagenBean.muestraDescarga}"            
                                                             >
                                                     
                                            </p:commandButton>
                        </p:column>                              

                    </p:row>

                </p:panelGrid>


            </p:panelGrid>


        </div>
    </h:form>

</html>
